<div class="section-box" *ngIf="showComponent">
    <div class="section-header">
        <h2 class="section-title d-inline-block">Event management and timeline</h2>
        <button class="btn btn-info pull-right" data-toggle="modal" (click)="showEventAgendaTimingAddComponent({})"
            [disabled]="projectEventTimelineId == 0" title="Add"><i class="fa fa-plus"></i></button>
    </div>
    <div class="section-body row mt-3">
        <!-- <div class="col-12 col-sm-8 col-md-12 col-lg-10 order-sm-first align-self-end"
            *ngIf="isAnyTabEmptyInEventManagementAndTimeline" style="color: #ef3340 !important;">
            <h5>No events have been added for this negotiation phase.</h5>
        </div> -->
        <div class="col-4 col-sm-2 col-md-2 col-lg-1 mt-2">
            <button type="button" name="" class="form-control btn-info mb-3" value=""
                [disabled]="!previousEventAgendaTiming || countEventAgendaTimmings==1"
                (click)="sortUp(templateEvent)"><i class="fa-lg fa fa-long-arrow-up" aria-hidden="true"></i></button>
        </div>
        <div class="col-4 col-sm-2 col-md-2 col-lg-1 mt-2">
            <button type="button" name="" class="form-control btn-info mb-3" value=""
                [disabled]="!nextEventAgendaTiming || countEventAgendaTimmings==1" (click)="sortDown(templateEvent)"><i
                    class="fa-lg fa fa-long-arrow-down" aria-hidden="true"></i></button>
        </div>
        <div class="col-12 col-sm-8 col-md-12 col-lg-10 order-sm-first align-self-end">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" *ngFor="let negotiationPhase of negotiationPhases;let num = index">
                    <a class="nav-link" id="{{negotiationPhase.negotiationPhaseName}}-tab"
                        (click)="getTabSelected(num,negotiationPhase.negotiationPhaseId)" data-toggle="tab" role="tab"
                        [attr.aria-controls]="negotiationPhase.negotiationPhaseName" aria-selected="true"
                        [(class.active)]="negotiationPhase.isActive"> {{negotiationPhase.negotiationPhaseName}} </a>
                </li>
            </ul>
        </div>
        <div class="tab-content col-12 order-12 rounded mb-3" id="myTabContent">
            <div class="tab-pane fade " *ngFor="let negotiationPhase of negotiationPhases;let num = index"
                [(class.show)]="negotiationPhase.isActive" [(class.active)]="negotiationPhase.isActive"
                id="{{negotiationPhase.negotiationPhaseName}}" role="tabpanel"
                [attr.aria-labelledby]="getTabName(negotiationPhase)">
            </div>
            <div class="row">
                <div class="col-12 col-lg-12">
                    <div class="col-12 col-sm-8 col-md-12 col-lg-10 order-sm-first align-self-end mt-4 mb-4"
                        *ngIf="countEventAgendaTimmings == 0" style="color: #ef3340 !important;">
                        <h5>No events have been added for this negotiation phase.</h5>
                    </div>
                    <rx-template #templateEvent="rxtemplate" [(dataSource)]="currentEventAgendaTimings"
                        masterClass="col-12 col-lg-6">
                        <ng-template rxCellTemplate let-eventAgendaTiming="dataItem">
                            <div class="media section-media without-icon"
                                (click)="selectEvent(eventAgendaTiming.sortOrder)"
                                [class.active]="sortOrder == eventAgendaTiming.sortOrder">
                                <div class="media-body">
                                    <div class="media-title">
                                        <!-- <h4 class="d-inline-block">Sort Order : {{eventAgendaTiming.sortOrder}}</h4> -->
                                        <h4 class="d-inline-block">{{eventAgendaTiming.time}}</h4>
                                        <ul class="action-links float-right list-inline" *ngIf="!isLocked">
                                            <li class="list-inline-item"><a
                                                    (click)="showEventAgendaTimingEditComponent(eventAgendaTiming)"
                                                    title="Edit"><i class="fa fa-pencil-square-o"
                                                        aria-hidden="true"></i></a></li>
                                            <li class="list-inline-item"><a
                                                    (click)="showEventAgendaTimingDeleteComponent(eventAgendaTiming)"
                                                    title="Delete"><i class="fa fa-trash-o" aria-hidden="true"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="project-summery font-md">
                                        <!-- <p>Time : <span class="color-dark-gray">{{eventAgendaTiming.time}}</span></p> -->
                                        <!-- <p>Negotiation Phase : <span class="color-dark-gray">{{eventAgendaTiming.negotiationPhase}}</span></p>                                 -->
                                        <p>Topic : <span class="color-dark-gray">{{eventAgendaTiming.topic}}</span></p>
                                        <p>Purpose : <span class="color-dark-gray">{{eventAgendaTiming.purpose}}</span>
                                        </p>
                                        <p>Process : <span class="color-dark-gray">{{eventAgendaTiming.process}}</span>
                                        </p>
                                        <p>Pay-off : <span class="color-dark-gray">{{eventAgendaTiming.payOff}}</span>
                                        </p>
                                        <p>Tactics to be used : <span
                                                class="color-dark-gray">{{eventAgendaTiming.tacticsToBeUsed}}</span></p>
                                        <p>Trigger : <span class="color-dark-gray">{{eventAgendaTiming.trigger}}</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </rx-template>
                </div>
            </div>

            <!-- <div class="tab-pane fade" id="explore" role="tabpanel" aria-labelledby="explore-tab">explore<br>explore</div>
          <div class="tab-pane fade" id="bargain" role="tabpanel" aria-labelledby="bargain-tab">bargain<br>bargain</div>
          <div class="tab-pane fade" id="deal" role="tabpanel" aria-labelledby="deal-tab">deal<br>deal</div> -->
        </div>
    </div>
</div>