<section id="content_outer_wrapper" *ngIf="showComponent">
  <div id="content_wrapper">
    <div id="header_wrapper" class="header-sm">
      <div class="container-fluid">
        <div class="row">
          <div class="col-xs-12">
            <header id="header">
              <h1 rxLabel="pageTitle">Edit Role</h1>
              <ul class="card-actions icons right-top m-t-n-20">
                <li>
                  <button class="btn btn-default" routerLink="/roles" rxLabel="backToListButton">Back to List<div class="ripple-container"></div></button>
                </li>
              </ul>
            </header>
          </div>
        </div>
      </div>
    </div>
    <div id="content" class="container-fluid">
      <div class="content-body">
        <div class="row">
          <div class="card">
            <div class="card-body p-t-0">
              <div class="card card-transparent m-b-0">
                <div class="card-body p-0">
                  <form role="form" [formGroup]="roleEditFormGroup">
                    <div class="row">
                      <div class="col-lg-12">
                        <label hidden>Role Name</label>
                        <div class="form-group is-empty col-lg-12">
                          <label rxLabel="roleName">Role Name : </label>
                          <input type="text" class="form-control" (blur)="saveRoles()" formControlName="roleName" [rxMessage]="validationFailed.roleName" />
                        </div>
                      </div>
                    </div>
                  </form>
                  <div class="row">
                    <div class="col-lg-12">
                      <div class="tabpanel">
                        <ul class="nav nav-tabs" role="tablist">
                          <li *ngFor="let module of mainModuleList;let i=index" [class.active]="module.moduleMasterId == selectedParentModuleId" (click)="bindSubModules(module.moduleMasterId)">
                            <a href="javascript:void(0);" role="tab" data-toggle="tab" aria-expanded="false" class="collapsed">{{module.moduleMasterName}}</a>
                          </li>
                        </ul>
                      </div>
                      <div class="p-20">
                        <div>
                          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true" *ngIf="subModuleList!=undefined && subModuleList.length>0">
                            <div class="panel panel-default" *ngFor="let module of subModuleList">
                              <div class="panel-heading" role="tab" id="headingOne">
                                <div class="row">
                                  <div class="col-xs-6">
                                    <h4 class="panel-title">
                                        {{module.applicationModuleName}}
                                    </h4>
                                  </div>
                                  <div class="col-xs-6">
                                    <div class="pull-right">
                                      <div class="btn-group btn-group-sm m-r-5" data-toggle="buttons" *ngIf="(module.visibleActionItem == 'V' || module.visibleActionItem == 'v')">
                                        <label [className]="module.canView ? 'btn btn-green' : 'btn btn-danger'"><input checked="module.canView"  type="checkbox" (change)="saveRolePermission(module)" [(ngModel)]="module.canView" /> <span rxLabel="canView">View</span></label>
                                      </div>
                                      <div class="btn-group btn-group-sm m-r-5" data-toggle="buttons" *ngIf="(module.visibleActionItem == 'F' || module.visibleActionItem == 'f')">
                                        <label [className]="module.canView ? 'btn btn-green' : 'btn btn-danger'">
                                          <input type="checkbox" (change)="saveRolePermission(module)" [(ngModel)]="module.canView" checked="module.canView" /> <span rxLabel="canView">View</span>
                                        </label>
                                        <label [className]="module.canAdd ? 'btn btn-green' : 'btn btn-danger'">
                                          <input type="checkbox" (change)="saveRolePermission(module)" [(ngModel)]="module.canAdd" checked="module.canAdd" /> <span rxLabel="canAdd">Add</span>
                                        </label>
                                        <label [className]="module.canEdit ? 'btn btn-green' : 'btn btn-danger'">
                                          <input type="checkbox" (change)="saveRolePermission(module)" [(ngModel)]="module.canEdit" checked="module.canEdit" /> <span rxLabel="canEdit">Edit</span>
                                        </label>
                                        <label [className]="module.canDelete ? 'btn btn-green' : 'btn btn-danger'">
                                          <input type="checkbox" (change)="saveRolePermission(module)" [(ngModel)]="module.canDelete" checked="module.canDelete" /> <span rxLabel="canDelete">Delete</span>
                                        </label>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>